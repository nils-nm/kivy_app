

# calc_lab: calc_lab

# b7: b7
# b8: b8
# b9: b9
# bX: bX
# b4: b4
# b5: b5
# b6: b6
# b-: b-
# b3: b3
# b2: b2
# b1: b1
# b+: b+
# b**: b**
# b0: b0
# b.: b.
# b=: b=
<MainWindow>:
    name: "main"
    but_form: but_form
    but_calc: but_calc
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        padding: 75, 100, 75, 75
        spacing: 50
        FloatLayout:
            ToggleButton:
                pos_hint: {'x': .93, 'y': 1}
                size_hint: .2, .2
                text: "Ru"
                state: "down"
                group: "lang"
                on_press:
                    root.Ru_En('ru')
            ToggleButton:
                pos_hint: {'x': .7, 'y': 1}
                size_hint: .2, .2
                text: "En"
                group: "lang"
                on_press:
                    root.Ru_En('en')
        Button:
            id: but_form
            text: "Формулы"
            font_size: "32sp"
            on_release:
                app.root.current = "choice"
                root.manager.transition.direction = "left"
        Button:
            id: but_calc
            text: "Калькулятор"
            font_size: "32sp"
            on_release:
                app.root.current = "calc"
                root.manager.transition.direction = "left"


<CalcWindow>:
    name: "calc"
    calc_lab: calc_lab
    BoxLayout:
        orientation: "vertical"
        padding: 25
        Button:
            text: "<--"
            size_hint: 0.2, 0.1
            font_size: "16sp"
            on_release:
                app.root.current = "main"
                root.manager.transition.direction = "right"
        Label:
            id: calc_lab
            text: "0"
            font_size: "32sp"
            halign: "right"
            valign: "center"
            size_hint: 1, 0.3
            text_size: root.width - 50, root.height * 0.3 - 50
        GridLayout:
            spacing: 3
            size_hint: 1, 0.6
            cols: 4
            Widget:
            Button:
                text: "c"
                on_release:
                    root.clear_text()
            Button:
                text: "**"
                on_release:
                    root.add_operation("**")
            Button:
                text: "/"
                on_release:
                    root.add_operation("/")
            Button:
                text: "7"
                on_release:
                    root.add_number("7")
            Button:
                text: "8"
                on_release:
                    root.add_number("8")
            Button:
                text: "9"
                on_release:
                    root.add_number("9")
            Button:
                text: "X"
                on_release:
                    root.add_operation("X")
            Button:
                text: "4"
                on_release:
                    root.add_number("4")
            Button:
                text: "5"
                on_release:
                    root.add_number("5")
            Button:
                text: "6"
                on_release:
                    root.add_number("6")
            Button:
                text: "-"
                on_release:
                    root.add_operation("-")
            Button:
                text: "1"
                on_release:
                    root.add_number("1")
            Button:
                text: "2"
                on_release:
                    root.add_number("2")
            Button:
                text: "3"
                on_release:
                    root.add_number("3")
            Button:
                text: "+"
                on_release:
                    root.add_operation("+")
            Widget:
            Button:
                text: "0"
                on_release:
                    root.add_number("0")
            Button:
                text: "."
                on_release:
                    root.add_number(".")
            Button:
                text: "="
                on_release:
                    root.calc_result("=")
<ChoiceWindow>:
    name: "choice"
    Button:
        id: but_bak
        text: "назад"
        on_release:
            app.root.current = "main"
            root.manager.transition.direction = "right"
<InfoWindow>:
    name: "info"
